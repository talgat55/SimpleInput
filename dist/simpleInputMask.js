(()=>{"use strict";var t,e,n={};t=n,e=function(){function t(t){this.inputElement=null,this.mask=t.mask,this.onCompleteCallback=t.onComplete}return t.prototype.applyMask=function(t){for(var e="",n=0,i=0;i<this.mask.length;i++){var s=this.mask[i],a=t[n];a?"9"===s&&/\d/.test(a)||"A"===s&&/[a-zA-Z]/.test(a)||"*"===s&&/[a-zA-Z0-9]/.test(a)?(e+=a,n++):"9"!==s&&"A"!==s&&"*"!==s?(e+=s,a===s&&n++):(n++,i--):e+="9"===s||"A"===s||"*"===s?"_":s}return e},t.prototype.isComplete=function(t){return-1===this.applyMask(t).indexOf("_")},t.prototype.setCursorPosition=function(t,e){requestAnimationFrame((function(){t.setSelectionRange(e,e)}))},t.prototype.findNextPlaceholderPosition=function(t,e){for(var n=e;n<this.mask.length;n++)if("9"===this.mask[n]||"A"===this.mask[n]||"*"===this.mask[n])return n;return this.mask.length},t.prototype.attach=function(t){var e=this;this.inputElement=t,this.inputElement.placeholder=this.applyMask("");var n=function(){if(e.inputElement){var t=e.inputElement.value,n=e.inputElement.selectionStart||0,i=e.inputElement.dataset.oldValue||"",s=parseInt(e.inputElement.dataset.oldCursor||"0"),a=e.applyMask(t);e.inputElement.value=a;var l=n;l=t.length<i.length?n:e.findNextPlaceholderPosition(a,s),e.setCursorPosition(e.inputElement,l),e.inputElement.dataset.oldValue=a,e.inputElement.dataset.oldCursor=l.toString(),e.isComplete(a)&&e.onCompleteCallback&&e.onCompleteCallback(a)}};this.inputElement.addEventListener("input",n),this.inputElement.addEventListener("paste",n),this.inputElement._onInputMask=n},t.prototype.detach=function(){if(this.inputElement){var t=this.inputElement._onInputMask;t&&(this.inputElement.removeEventListener("input",t),this.inputElement.removeEventListener("paste",t),delete this.inputElement._onInputMask),this.inputElement=null}},t}(),t.default=e,window.SimpleInputMask=n.default})();